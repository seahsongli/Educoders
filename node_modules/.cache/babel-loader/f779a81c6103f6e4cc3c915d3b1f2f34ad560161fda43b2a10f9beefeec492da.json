{"ast":null,"code":"'use client';\n\n// For Next.js app router\nvar _jsxFileName = \"C:\\\\Users\\\\seahs\\\\repos\\\\worldcoin-app\\\\src\\\\verify.jsx\";\nimport { IDKitWidget, VerificationLevel } from '@worldcoin/idkit';\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst serverPort = 3001;\nconst WorldcoinVerification = () => {\n  const onSuccess = async responseData => {\n    // Handle the success data from the backend if needed\n    console.log(\"Verification Successful:\", responseData);\n    window.location.href = \"/success\"; // Redirect to a success page\n  };\n  const handleVerify = async proof => {\n    const res = await fetch(`http://localhost:${serverPort}/api/verify`, {\n      // Route to your backend\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(proof)\n    });\n    if (!res.ok) {\n      throw new Error(\"Verification failed.\"); // IDKit will handle this error\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(IDKitWidget, {\n    app_id: \"app_staging_d2fdb1622a1a3f396abdecf1eef2efad\" // obtained from Developer Portal\n    ,\n    action: \"vote-for-moolah\" // obtained from Developer Portal\n    ,\n    onSuccess: onSuccess,\n    handleVerify: handleVerify,\n    verification_level: VerificationLevel.Device,\n    children: ({\n      open\n    }) => /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: open,\n      children: \"Verify with World ID\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 9\n  }, this);\n};\n_c = WorldcoinVerification;\nexport default WorldcoinVerification;\nvar _c;\n$RefreshReg$(_c, \"WorldcoinVerification\");","map":{"version":3,"names":["_jsxFileName","IDKitWidget","VerificationLevel","React","jsxDEV","_jsxDEV","serverPort","WorldcoinVerification","onSuccess","responseData","console","log","window","location","href","handleVerify","proof","res","fetch","method","headers","body","JSON","stringify","ok","Error","app_id","action","verification_level","Device","children","open","onClick","fileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/seahs/repos/worldcoin-app/src/verify.jsx"],"sourcesContent":["'use client'; // For Next.js app router\r\nimport { IDKitWidget, VerificationLevel } from '@worldcoin/idkit';\r\nimport React from 'react';\r\n\r\nconst serverPort = 3001;\r\nconst WorldcoinVerification = () => {\r\n    const onSuccess = async (responseData) => {\r\n        // Handle the success data from the backend if needed\r\n        console.log(\"Verification Successful:\", responseData);\r\n        window.location.href = \"/success\"; // Redirect to a success page\r\n    };\r\n\r\n    const handleVerify = async (proof) => {\r\n        const res = await fetch(`http://localhost:${serverPort}/api/verify`, { // Route to your backend\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify(proof),\r\n        });\r\n\r\n        if (!res.ok) {\r\n            throw new Error(\"Verification failed.\"); // IDKit will handle this error\r\n        }\r\n    };\r\n\r\n    return (\r\n        <IDKitWidget\r\n            app_id=\"app_staging_d2fdb1622a1a3f396abdecf1eef2efad\" // obtained from Developer Portal\r\n            action=\"vote-for-moolah\" // obtained from Developer Portal\r\n            onSuccess={onSuccess}\r\n            handleVerify={handleVerify}\r\n            verification_level={VerificationLevel.Device}\r\n        >\r\n            {({ open }) => \r\n                <button onClick={open}>Verify with World ID</button>\r\n            }\r\n        </IDKitWidget>\r\n    );\r\n};\r\n\r\nexport default WorldcoinVerification;\r\n"],"mappings":"AAAA,YAAY;;AAAE;AAAA,IAAAA,YAAA;AACd,SAASC,WAAW,EAAEC,iBAAiB,QAAQ,kBAAkB;AACjE,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,UAAU,GAAG,IAAI;AACvB,MAAMC,qBAAqB,GAAGA,CAAA,KAAM;EAChC,MAAMC,SAAS,GAAG,MAAOC,YAAY,IAAK;IACtC;IACAC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,YAAY,CAAC;IACrDG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,UAAU,CAAC,CAAC;EACvC,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,KAAK,IAAK;IAClC,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,oBAAoBZ,UAAU,aAAa,EAAE;MAAE;MACnEa,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,KAAK;IAC9B,CAAC,CAAC;IAEF,IAAI,CAACC,GAAG,CAACO,EAAE,EAAE;MACT,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC,CAAC,CAAC;IAC7C;EACJ,CAAC;EAED,oBACIpB,OAAA,CAACJ,WAAW;IACRyB,MAAM,EAAC,8CAA8C,CAAC;IAAA;IACtDC,MAAM,EAAC,iBAAiB,CAAC;IAAA;IACzBnB,SAAS,EAAEA,SAAU;IACrBO,YAAY,EAAEA,YAAa;IAC3Ba,kBAAkB,EAAE1B,iBAAiB,CAAC2B,MAAO;IAAAC,QAAA,EAE5CA,CAAC;MAAEC;IAAK,CAAC,kBACN1B,OAAA;MAAQ2B,OAAO,EAAED,IAAK;MAAAD,QAAA,EAAC;IAAoB;MAAAG,QAAA,EAAAjC,YAAA;MAAAkC,UAAA;MAAAC,YAAA;IAAA,OAAQ;EAAC;IAAAF,QAAA,EAAAjC,YAAA;IAAAkC,UAAA;IAAAC,YAAA;EAAA,OAE/C,CAAC;AAEtB,CAAC;AAACC,EAAA,GAlCI7B,qBAAqB;AAoC3B,eAAeA,qBAAqB;AAAC,IAAA6B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}